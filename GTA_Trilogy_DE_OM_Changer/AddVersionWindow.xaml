<Window x:Class="SA_DE_OM_Changer.AddVersionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Game Version" Height="320" Width="450"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize"
        Background="#1e1e1e">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Game Selection -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,8">
            <TextBlock Text="Select Game:" Foreground="White" FontSize="14" VerticalAlignment="Center"/>
            <TextBlock Text=" ⓘ" Foreground="LightGray" FontSize="14" Cursor="Help" VerticalAlignment="Center"
                       ToolTipService.InitialShowDelay="0">
                <TextBlock.ToolTip>
                    <ToolTip Background="#333" Foreground="White" BorderBrush="#555">
                        <TextBlock TextWrapping="Wrap" MaxWidth="250">
                            Choose which GTA game you're adding a version for. The tool supports GTA III, Vice City, and San Andreas.
                        </TextBlock>
                    </ToolTip>
                </TextBlock.ToolTip>
            </TextBlock>
        </StackPanel>
        <ComboBox Grid.Row="1" x:Name="GameComboBox" Margin="0,0,0,15" Height="28" 
                  Background="#333" Foreground="#000" BorderBrush="#555" FontSize="14"/>

        <!-- Version Input -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,8">
            <TextBlock Text="Game Version:" Foreground="White" FontSize="14" VerticalAlignment="Center"/>
            <TextBlock Text=" ⓘ" Foreground="LightGray" FontSize="14" Cursor="Help" VerticalAlignment="Center"
                       ToolTipService.InitialShowDelay="0">
                <TextBlock.ToolTip>
                    <ToolTip Background="#333" Foreground="White" BorderBrush="#555">
                        <StackPanel MaxWidth="280">
                            <TextBlock TextWrapping="Wrap" Margin="0,0,0,8">
                                Find the version by right-clicking the game .exe → Properties → Details tab → File version.
                            </TextBlock>
                            <Border Background="#222" Padding="8" CornerRadius="3">
                                <TextBlock Text="Example: 1.0.113.21181" 
                                           Foreground="LightGreen" 
                                           FontFamily="Consolas"/>
                            </Border>
                        </StackPanel>
                    </ToolTip>
                </TextBlock.ToolTip>
            </TextBlock>
        </StackPanel>
        <TextBox Grid.Row="3" x:Name="VersionTextBox" Height="28" Margin="0,0,0,15" 
                 Background="#333" Foreground="White" BorderBrush="#555" FontSize="14" 
                 Padding="5" VerticalContentAlignment="Center"/>

        <!-- Address Input -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,8">
            <TextBlock Text="Address (Hex):" Foreground="White" FontSize="14" VerticalAlignment="Center"/>
            <TextBlock Text=" ⓘ" Foreground="LightGray" FontSize="14" Cursor="Help" VerticalAlignment="Center"
                       ToolTipService.InitialShowDelay="0">
                <TextBlock.ToolTip>
                    <ToolTip Background="#333" Foreground="White" BorderBrush="#555">
                        <StackPanel MaxWidth="300">
                            <TextBlock TextWrapping="Wrap" Margin="0,0,0,8">
                                Use Cheat Engine to find the on_mission address:
                            </TextBlock>
                            <TextBlock TextWrapping="Wrap" Margin="0,0,0,8" Foreground="#ccc" FontSize="12">
                                1. Search for 4 bytes value (0 or 1)<LineBreak/>
                                2. Start mission → value = 1<LineBreak/>
                                3. End mission → value = 0<LineBreak/>
                                4. Double click on address: It would look something like YourGame.exe + Offset<LineBreak/>
                                5. Enter the offset to the box
                            </TextBlock>
                            <Border Background="#222" Padding="8" CornerRadius="3">
                                <TextBlock Text="Example: 51BF148 or 0x51BF148" 
                                           Foreground="LightGreen" 
                                           FontFamily="Consolas"/>
                            </Border>
                        </StackPanel>
                    </ToolTip>
                </TextBlock.ToolTip>
            </TextBlock>
        </StackPanel>
        <TextBox Grid.Row="5" x:Name="AddressTextBox" Height="28" Margin="0,0,0,15" 
                 Background="#333" Foreground="White" BorderBrush="#555" FontSize="14" 
                 Padding="5" VerticalContentAlignment="Center"/>

        <!-- Buttons -->
        <StackPanel Grid.Row="7" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="OK" Width="100" Height="32" Margin="0,0,10,0" Click="OK_Click"
                    Background="#333" Foreground="White" BorderThickness="0" Cursor="Hand" FontSize="14"/>
            <Button Content="Cancel" Width="100" Height="32" Click="Cancel_Click"
                    Background="#333" Foreground="White" BorderThickness="0" Cursor="Hand" FontSize="14"/>
        </StackPanel>
    </Grid>
</Window>
